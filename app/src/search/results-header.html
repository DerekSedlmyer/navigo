<!-- header: results count and sort and filters -->
<div class="alert alert-warning warning alert-dismissible" role="alert" ng-show="searchError">
    <a href="#" class="icon-x close" data-dismiss="alert" ng-click="hideSearchError($event)"><span class="sr-only">Close</span></a>
    <span class="icon-error"></span> Search Failed
</div>

<div class="alert alert-warning warning alert-dismissible" role="alert" ng-if="resultError">
    <a href="#" class="icon-x close" data-dismiss="alert" ng-click="hideResultErrorMessage($event)"><span class="sr-only">Close</span></a>
    <span class="icon-error"></span> Could Not Show All Results.
    <a href="javascript:;" ng-click="showResultErrorTrace()">Show Details</a>
</div>

<div id="results-header">
    <div class="result_actions">
        <a href="javascript:;" class="total" style="white-space: nowrap">{{totalItems | number}} Results</a>
    </div>
    <!--<div class="result_range" ng-show="results.length">showing <span ng-bind="startItem"></span><span ng-if="endItem" ng-bind="'-' + endItem"></span></div>-->
    <div id="working"></div>
</div>

<div id="searchViewList" ng-show="view == 'table'" ng-include="'src/search/search-view-list.html'"></div>

<ul class="option_list pull-right" ng-show="hasResults()">
    <li ng-if="hasPermission('save_search')"><a href="javascript:;" ng-click="toggleSave()" class="btn btn-action icon-heart_empty"><span class="small_hide">Save search</span></a></li>
    <li ng-if="totalItems > 0 && hasOnePermission()">
        <div class="result_actions hover_flyout">
            <a href="javascript:;" class="btn btn-secondary icon-tools flyout_trigger"><span class="small_hide">Tools<span class="icon-arrow"></span></span></a>
            <div class="flyout">
                <div class="arrow"></div>
                <div class="flyout_inner">
                    <ul role="menu">
                        <li ng-if="canCart()"><a href="javascript:;" ng-click="addAllToCart()">Add all results to {{uiText.name}}</a></li>
                        <li ng-if="flagPermission()"><a href="javascript:;" ng-click="flagAllResults()">Flag All</a></li>
                        <li ng-if="flagPermission()"><a href="javascript:;" ng-click="removeAllFlags()">Remove All Flags</a></li>
                        <li ng-if="canEditPermission()"><a href="javascript:;" ng-click="editAllPresentation()">Edit Fields for All</a></li>
                        <li><a href="javascript:;" ng-click="exportResultsList()">Export results list</a></li>
                        <li><a href="javascript:;" ng-click="submitWebServices()">Suggest Content for Indexing</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </li>
    <li ng-show="view != 'table'">
        <div class="hover_flyout top_only">
            <a href="javascript:;" class="btn btn-secondary icon-sort flyout_trigger"><span class="small_hide"><span class="sort_label">{{view == 'map' && 'Sort' || displaySortField}}</span><span class="icon-arrow"></span></span></a>
            <div class="flyout">
                <div class="arrow"></div>
                <div class="flyout_inner">
                    <ul>
                        <li>
                            <div class="tab tab_tert clearfix">
                                <ul>
                                    <li class="{{sortDirection == 'asc' && 'selected' || ''}}">
                                        <a href="javascript:;" ng-click="changeSortDirection('asc')">
                                            Ascending
                                        </a>
                                    </li>
                                    <li class="{{sortDirection == 'desc' && 'selected' || ''}}">
                                        <a href="javascript:;" ng-click="changeSortDirection('desc')">
                                            Descending
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                    <ul class="sort_list">
                        <li ng-repeat="field in ::sortable" ng-class="field.value == displaySortField && 'selected' || ''">
                            <a href="javascript:;" ng-click="changeSort(field)">{{::field.value}}<span class="fa fa-check"></span></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </li>
    <li ng-if="!filterVisible"><a href="javascript:;" ng-click="toggleFilter()" class="btn btn-secondary icon-filters"><span class="small_hide">Filter</span></a></li>
    <li class="filter_header" ng-if="filterVisible">
        <a href="javascript:;" ng-click="toggleFilter()" class="semi">Filter your search<i class="icon-x"></i></a>
    </li>
</ul>