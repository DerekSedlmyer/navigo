<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for ./app/src/component/selected-filter-directive.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../../prettify.css">
    <link rel="stylesheet" href="../../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">./app/src/component/selected-filter-directive.js</span></h1>
    <h2>
        Statements: <span class="metric">87.8% <small>(36 / 41)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">58.33% <small>(7 / 12)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">100% <small>(10 / 10)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">87.8% <small>(36 / 41)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">./app/src/component/</a> &#187; selected-filter-directive.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">37</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">36</span>
<span class="cline-any cline-yes">27</span>
<span class="cline-any cline-yes">27</span>
<span class="cline-any cline-yes">27</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*global angular */
&nbsp;
angular.module('voyager.component')
	.directive('vsSelectedFilter', function($timeout, $window) {
		'use strict';
&nbsp;
		return {
			restrict: 'A',
			link: function(scope, element, attr) {
&nbsp;
				var windowEl = angular.element($window);
				var windowWidth = windowEl.width();
				var windowHeight = windowEl.height();
				// var resultsTable;
&nbsp;
				var _adjustSelectedFilterContainer = function() {
					$timeout(function() {
						var searchResultMapContainer = angular.element('#searchResultMapContainer');
						var selectedFilterEl = angular.element('#selectedFilters');
						var selectedFilterContainer = selectedFilterEl.find('.overtop');
						var filterContainerHeight = 0;
						var listWrapEl = selectedFilterEl.next('.list_wrap');
&nbsp;
						<span class="missing-if-branch" title="else path not taken" >E</span>if (scope.filters.length) {
							filterContainerHeight = selectedFilterEl.find('.overtop').outerHeight();
							selectedFilterContainer.css('width', (selectedFilterEl.parent().outerWidth()) + 'px');
						}
&nbsp;
						listWrapEl.css({'padding-top': filterContainerHeight + 'px'});
&nbsp;
						var banner = angular.element('#top-banner');
&nbsp;
						<span class="missing-if-branch" title="if path not taken" >I</span>if (attr.view === 'table') {
<span class="cstat-no" title="statement not covered" >							var top = 118 + filterContainerHeight;</span>
<span class="cstat-no" title="statement not covered" >							if (banner.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >								top += banner.height();</span>
							}
<span class="cstat-no" title="statement not covered" >							searchResultMapContainer.css('top', top + 'px');</span>
							// resultsTable = angular.element('#resultsTable');
							// var offset = listWrapEl.offset().top - 20;
							// resultsTable.stickyTableHeaders('destroy');
							// resultsTable.stickyTableHeaders({fixedOffset: offset});
						} else {
							selectedFilterEl.next('.list_wrap').css({'margin-top' : 0});
							// TODO - setting height to 100% hides the bottom map controls - why is this needed?
							// searchResultMapContainer.css({'top': '', 'height': '100%', 'visibility': 'visible'});
							var height = '';
							<span class="missing-if-branch" title="if path not taken" >I</span>if (banner.length) {
								// 64 is the header, 5 is padding
<span class="cstat-no" title="statement not covered" >								height = ($window.innerHeight - banner.height() - 64 - 5) + 'px';</span>
							}
							searchResultMapContainer.css({'top': '', 'height': height, 'visibility': 'visible'});
						}
					}, 100);
				};
&nbsp;
				element.ready(function(){
&nbsp;
					scope.$watch('filters', function(){
						_adjustSelectedFilterContainer();
					});
&nbsp;
					scope.$watch('$parent.filterVisible', function(){
						_adjustSelectedFilterContainer();
					});
&nbsp;
					scope.$watch('$parent.view', function(){
						_adjustSelectedFilterContainer();
					});
&nbsp;
					windowEl.on('resize', function(){
						if (windowWidth !== windowEl.width() || windowHeight !== windowEl.height()) {
							windowWidth = windowEl.width();
							windowHeight = windowEl.height();
							_adjustSelectedFilterContainer();
						}
					});
&nbsp;
					scope.$on('destroy', function(){
						windowEl.unbind('resize', _adjustSelectedFilterContainer);
						// resultsTable.stickyTableHeaders('destroy');
					});
&nbsp;
				});
&nbsp;
&nbsp;
			} //link
		};
	});
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Mon Jul 25 2016 07:49:13 GMT-0400 (Eastern Daylight Time)</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
